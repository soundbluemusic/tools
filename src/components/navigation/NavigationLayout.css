/**
 * Navigation Layout - Responsive System
 * Reference: YouTube, GitHub, OpenAI style layouts
 * Desktop (≥768px): Fixed sidebar + flexible content
 * Mobile (<768px): Full-width content + bottom nav
 */

/* ============================================
 * Layout Variables
 * ============================================ */
:root {
  --header-height: 56px;
  --sidebar-width: 240px;
  --bottom-nav-height: 56px;
  --transition-normal: 250ms;
  --ease-default: cubic-bezier(0.4, 0, 0.2, 1);
}

/* ============================================
 * Main Layout Container
 * ============================================ */
.nav-layout {
  position: relative;
  width: 100%;
  min-height: 100vh;
  min-height: 100dvh;
  overflow-x: hidden;
}

/* ============================================
 * Main Content Area
 * Uses margin-left for sidebar push animation
 * width: auto ensures content doesn't overflow when margin is applied
 * ============================================ */
.nav-layout-content {
  position: relative;
  width: auto;
  min-height: 100vh;
  min-height: 100dvh;
  margin-top: var(--header-height, 56px);
  margin-left: 0;
  margin-right: 0;
  box-sizing: border-box;
  /* Smooth transition for sidebar toggle - margin-left animation */
  transition: margin-left var(--transition-normal, 250ms)
    var(--ease-default, cubic-bezier(0.4, 0, 0.2, 1));
}

/* Content Wrapper - Contains page content */
.content-wrapper {
  width: 100%;
  max-width: 100%;
  min-height: calc(100vh - var(--header-height, 56px));
  min-height: calc(100dvh - var(--header-height, 56px));
  box-sizing: border-box;
}

/* ============================================
 * Desktop Layout (≥768px)
 * Content uses margin-left to be pushed by sidebar
 * ============================================ */
@media (min-width: 768px) {
  /* Sidebar open - content pushed right */
  .nav-layout-content--sidebar-open {
    margin-left: var(--sidebar-width, 240px);
  }
}

/* ============================================
 * Mobile & Tablet Layout (<768px)
 * Full-width content with bottom nav space
 * ============================================ */
@media (max-width: 767px) {
  .nav-layout-content {
    margin-left: 0;
    /* Space for bottom navigation + iOS safe area */
    padding-bottom: calc(
      var(--bottom-nav-height, 56px) + env(safe-area-inset-bottom, 0px)
    );
  }

  .content-wrapper {
    min-height: calc(
      100vh - var(--header-height, 56px) - var(--bottom-nav-height, 56px)
    );
    min-height: calc(
      100dvh - var(--header-height, 56px) - var(--bottom-nav-height, 56px)
    );
  }
}

/* ============================================
 * Small Mobile (≤480px)
 * Compact header height
 * ============================================ */
@media (max-width: 480px) {
  .nav-layout-content {
    margin-top: var(--header-height-mobile, 52px);
  }

  .content-wrapper {
    min-height: calc(100vh - var(--header-height-mobile, 52px));
    min-height: calc(100dvh - var(--header-height-mobile, 52px));
  }
}

/* ============================================
 * Safe Area Support (iOS notch/home indicator)
 * ============================================ */
@supports (padding-top: env(safe-area-inset-top)) {
  .nav-layout-content {
    margin-top: calc(var(--header-height, 56px) + env(safe-area-inset-top));
  }

  @media (max-width: 480px) {
    .nav-layout-content {
      margin-top: calc(
        var(--header-height-mobile, 52px) + env(safe-area-inset-top)
      );
    }
  }
}
